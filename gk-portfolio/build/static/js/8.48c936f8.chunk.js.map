{"version":3,"sources":["components/ContactForm/index.js"],"names":["gsap","registerPlugin","ScrollTrigger","ContactForm","useState","errMsg","setErrMsg","executing","setExecuting","formValues","setFormValues","formReset","setFormReset","loaded","setLoaded","msgSent","setMsgSent","rcError","setRcError","isSubmitting","setIsSubmitting","token","setToken","verified","setVerified","rcRef","useRef","useEffect","a","data","options","method","headers","qs","stringify","url","axios","message","handleSubmit","onError","console","log","onExpire","resetReCaptcha","onVerify","resetEverything","resetForm","current","reset","contactTitle1Ref","orTitleRef","emailTxtRef","saveStyles","tl","timeline","matchMedia","from","scrollTrigger","trigger","toggleActions","start","scrub","duration","y","ease","kill","className","id","ref","lg","initialValues","email","name","validate","values","errors","test","onSubmit","execute","data-netlify","data-netlify-honeypot","data-netlify-recaptcha","noValidate","type","htmlFor","component","sitekey","onLoad","size","onClick","disabled","renderButton","href"],"mappings":"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","file":"static/js/8.48c936f8.chunk.js","sourcesContent":["import React, { useRef, useEffect, useState } from \"react\";\nimport { ErrorMessage, Field, Form, Formik } from \"formik\";\nimport Reaptcha from \"reaptcha\";\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport './style.css';\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from 'gsap/ScrollTrigger';\ngsap.registerPlugin(ScrollTrigger);\n\n\n\n\n\n// This is static top section of the page and gives it semantic value.\nfunction ContactForm() {\n\n    // START Code Copied From https://github.com/kimfucious/netlify-forms-formik/blob/master/src/FormikForm.js#L7\n    //\n    const [errMsg, setErrMsg] = useState(\"\");\n    const [executing, setExecuting] = useState(false);\n    const [formValues, setFormValues] = useState({});\n    const [formReset, setFormReset] = useState({});\n    const [loaded, setLoaded] = useState(false);\n    const [msgSent, setMsgSent] = useState(false);\n    const [rcError, setRcError] = useState(\"\");\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [token, setToken] = useState(\"\");\n    const [verified, setVerified] = useState(false);\n\n    const rcRef = useRef(null);\n\n\n    useEffect(() => {\n        const handleSubmit = async (formValues, token) => {\n            const data = {\n                ...formValues,\n                \"g-recaptcha-response\": token\n            };\n            const options = {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n                data: qs.stringify(data),\n                url: \"/\"\n            };\n            try {\n                await axios(options);\n                setMsgSent(true);\n                formReset();\n            } catch (e) {\n                setErrMsg(e.message);\n            }\n        };\n        if (token) {\n            handleSubmit(formValues, token);\n        }\n    }, [formReset, formValues, token]);\n\n    const onError = () => {\n        console.log(\"error...\");\n        setRcError(true);\n    };\n\n    const onExpire = () => {\n        console.log(\"expired...\");\n        console.log(\"resetting...\");\n        resetReCaptcha();\n    };\n\n    const onLoad = resetForm => {\n        console.log(\"loaded...\");\n        setLoaded(true);\n        setFormReset(resetForm);\n    };\n\n    const onVerify = token => {\n        console.log(\"verified...\");\n        setToken(token);\n        setVerified(true);\n        setExecuting(false);\n    };\n\n    const renderButton = (executing, isSubmitting) => {\n        if (errMsg) {\n            return (\n                <button\n                    className=\"contact__submit-btn mt-3\"\n                    type=\"submit\"\n                    disabled\n                >\n                    Error\n                </button>\n            );\n        } else if (msgSent) {\n            return (\n                <button\n                    className=\"contact__submit-btn mt-3\"\n                    type=\"submit\"\n                    disabled\n                >\n                    Submitted\n                </button>\n            );\n        } else {\n            return (\n                <button\n                    className=\"contact__submit-btn mt-3\"\n                    type=\"submit\"\n                    disabled={isSubmitting || executing}\n                >\n                    Submit\n                </button>\n            );\n        }\n    };\n\n    const resetEverything = resetForm => {\n        if (rcError) {\n            setRcError(false);\n        }\n        if (resetForm) {\n            setMsgSent(false);\n            setErrMsg(false);\n            resetForm();\n        }\n        resetReCaptcha();\n    };\n\n    const resetReCaptcha = async () => {\n        console.log(\"resetting...\");\n        await rcRef.current.reset();\n        setVerified(false);\n    };\n\n    // END Code Copied From https://github.com/kimfucious/netlify-forms-formik/blob/master/src/FormikForm.js#L7\n    //\n\n\n    // GSAP —————————————————————————————————————————————————————————————————\n\n    // Ref for Contact title \n    const contactTitle1Ref = useRef(null);\n\n    // Ref for Or title\n    const orTitleRef = useRef(null);\n\n    // Ref for email text\n    const emailTxtRef = useRef(null);\n\n\n    // Save Initial Styles\n    ScrollTrigger.saveStyles(\".contact__title, .contact__or-title, .contact__email-txt\");\n\n    useEffect(() => {\n\n        const tl = gsap.timeline();\n\n        // Media Query Animation\n        ScrollTrigger.matchMedia({\n\n            \"(min-width: 768px)\": function () {\n\n\n                tl.from(contactTitle1Ref.current, {\n                    scrollTrigger: {\n                        trigger: contactTitle1Ref.current,\n                        toggleActions: 'play none none none',\n                        start: 'top bottom',\n                        scrub: true\n                    },\n                    duration: 2,\n                    y: 120,\n                    ease: 'power4.out'\n\n                });\n\n                tl.from(orTitleRef.current, {\n                    duration: 1,\n                    y: 50,\n                    ease: \"expo.out\",\n                    scrollTrigger: {\n                        trigger: orTitleRef.current,\n                        toggleActions: 'play none none none',\n                        start: 'top bottom',\n                        scrub: true\n                    },\n                })\n\n                tl.from(emailTxtRef.current, {\n                    duration: 1,\n                    y: -30,\n                    ease: 'power4.out',\n                    scrollTrigger: {\n                        trigger: emailTxtRef.current,\n                        toggleActions: 'play none none none',\n                        start: 'top bottom',\n                        scrub: true\n\n                    },\n\n                });\n\n                // Kill animations \n                return function () {\n                    tl.kill();\n                };\n            }\n\n\n        });\n\n    }, [])\n\n\n\n    return (\n        <section>\n            <Container className=\"g__about-sections\" id=\"contact\">\n                <h2 className=\"contact__title\" ref={contactTitle1Ref}>Contact</h2>\n                <Row className=\"justify-content-md-center g_negative-margin\">\n                    <Col className=\"white-color\" lg={8}>\n                        <div className=\"contact__form-bg\">\n\n                            <Formik\n                                initialValues={{\n                                    \"bot-field\": \"\",\n                                    \"form-name\": \"contact\",\n                                    email: \"\",\n                                    name: \"\",\n                                    message: \"\"\n                                }}\n                                validate={values => {\n                                    let errors = {};\n                                    if (!values.email) {\n                                        errors.email = \"Required\";\n                                    } else if (\n                                        !/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(values.email)\n                                    ) {\n                                        errors.email = \"Invalid email address\";\n                                    }\n                                    if (!values.name) {\n                                        errors.name = \"Required\";\n                                    }\n                                    if (!values.message) {\n                                        errors.message = \"Required\";\n                                    }\n                                    return errors;\n                                }}\n                                onSubmit={values => {\n                                    setIsSubmitting(true);\n                                    setFormValues({ ...values });\n                                    setExecuting(true);\n                                    rcRef.current.execute();\n                                }}\n                            >\n                                {({ resetForm }) => (\n                                    <Form\n                                        data-netlify=\"true\"\n                                        data-netlify-honeypot=\"bot-field\"\n                                        data-netlify-recaptcha=\"true\"\n                                        className=\"d-flex flex-column\"\n                                        name=\"contact\"\n                                        noValidate\n                                    >\n                                        <Field type=\"hidden\" name=\"form-name\" />\n                                        <Field type=\"hidden\" name=\"bot-field\" />\n                                        <div className=\"form-group\">\n                                            <label\n                                                className=\"col-form-label col-form-label-lg\"\n                                                htmlFor=\"name\"\n                                            >\n                                                Name\n                                        </label>\n                                            <Field\n                                                className=\"form-control form-control-lg\"\n                                                name=\"name\"\n                                                type=\"text\"\n                                            />\n                                            <ErrorMessage\n                                                className=\"invalid-feedback\"\n                                                name=\"name\"\n                                                component=\"div\"\n                                            />\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label\n                                                className=\"col-form-label col-form-label-lg\"\n                                                htmlFor=\"email\"\n                                            >\n                                                Email\n                                        </label>\n                                            <Field\n                                                className=\"form-control form-control-lg\"\n                                                name=\"email\"\n                                                type=\"email\"\n                                            />\n                                            <ErrorMessage\n                                                className=\"invalid-feedback\"\n                                                name=\"email\"\n                                                component=\"div\"\n                                            />\n                                        </div>\n                                        <div className=\"form-group\">\n                                            <label\n                                                className=\"col-form-label col-form-label-lg\"\n                                                htmlFor=\"message\"\n                                            >\n                                                Message\n                                        </label>\n                                            <Field\n                                                className=\"form-control form-control-lg\"\n                                                name=\"message\"\n                                                component=\"textarea\"\n                                            />\n                                            <ErrorMessage\n                                                className=\"invalid-feedback\"\n                                                name=\"message\"\n                                                component=\"div\"\n                                            />\n                                        </div>\n                                        <Reaptcha\n                                            ref={rcRef}\n                                            sitekey=\"6LdZTMMZAAAAAGJy0j2AyImgkQ33Mv4juhtQElid\"\n                                            data-netlify-recaptcha=\"true\"\n                                            onError={onError}\n                                            onExpire={onExpire}\n                                            onVerify={onVerify}\n                                            onLoad={() => onLoad(() => resetForm)}\n                                            size=\"invisible\"\n                                        />\n                                        <div className=\"m-2 col-form-label col-form-label-lg hidden\">\n                                            <span\n                                                className={`badge badge-${loaded ? \"success\" : \"primary\"\n                                                    } mx-2 p-2`}\n                                            >\n                                                loaded\n              </span>\n                                            <span\n                                                className={`badge badge-${verified ? \"success\" : \"primary\"\n                                                    } mx-2 p-2`}\n                                            >\n                                                verified\n              </span>\n                                            {executing && (\n                                                <span className={`badge badge-primary mx-2 p-2`}>\n                                                    executing\n                                                </span>\n                                            )}\n                                            {rcError && (\n                                                <span className={`badge badge-primary mx-2 p-2`}>error</span>\n                                            )}\n                                            {rcError && (\n                                                <button\n                                                    className=\"btn btn-link text-dark\"\n                                                    onClick={() => resetEverything(resetForm)}\n                                                >\n                                                    reset\n                                                </button>\n                                            )}\n                                        </div>\n                                        {renderButton(isSubmitting, executing, verified)}\n                                        {errMsg ? <div className=\"text-primary m-1\">{errMsg}</div> : null}\n                                        {(msgSent || errMsg) && (\n                                            <button className=\"contact__reset-btn\"\n\n                                                onClick={() => resetEverything(resetForm)}\n                                            >\n                                                Send A New Email\n                                            </button>\n                                        )}\n                                    </Form>\n                                )}\n                            </Formik>\n                        </div>\n                    </Col>\n                </Row>\n\n                <div className=\"contact__email-container\">\n                    <h2 className=\"contact__or-title\" ref={orTitleRef}>or</h2>\n                    <div className=\"contact__email-txt\" ref={emailTxtRef}>\n                        <p className=\"g__body-lg\">You can email me at</p>\n\n                        <p>\n                            <a href=\"mailto:gedalya@krycer.com\"\n                                className=\"g__body-lg\">\n                                gedalya@krycer.com\n                        </a>\n                        </p>\n                    </div>\n\n                </div>\n            </Container>\n\n        </section >\n    )\n}\n\n\nexport default ContactForm;"],"sourceRoot":""}